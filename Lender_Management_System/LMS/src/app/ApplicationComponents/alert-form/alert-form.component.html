<div class="alert-form-wrapper">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg custom-navbar">
    <div class="container">
      <a class="navbar-brand" href="#">
        <i class="fas fa-bell me-2"></i>Alerts
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
              aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link dashboard-link" [routerLink]="'/dashboard'">
              <i class="fas fa-tachometer-alt me-1"></i>Dashboard
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="content-wrapper">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="alert-card">
            <div class="card-header">
              <h4><i class="fas fa-paper-plane me-2"></i>Send Alerts</h4>
            </div>
            <div class="card-body">
              <!-- Alert Form -->
              <div *ngIf="!formSubmitted" class="alert-form">
                <form #alertForm="ngForm" (ngSubmit)="onSubmit()">
                  <!-- Borrower Name -->
                  <div class="form-group">
                    <label for="borrowerName" class="form-label">
                      <i class="fas fa-user me-2"></i>Borrower Name
                    </label>
                    <input 
                      id="borrowerName" 
                      type="text" 
                      [(ngModel)]="borrowerName" 
                      name="borrowerName" 
                      class="form-control" 
                      required 
                      placeholder="Enter Borrower Name"
                      #borrowerNameInput="ngModel"
                    />
                    <div *ngIf="borrowerNameInput.invalid && borrowerNameInput.touched" class="text-danger">
                      Borrower Name is required.
                    </div>
                  </div>

                  <!-- Borrower Email -->
                  <div class="form-group">
                    <label for="borrowerEmail" class="form-label">
                      <i class="fas fa-envelope me-2"></i>Borrower Email
                    </label>
                    <input 
                      id="borrowerEmail" 
                      type="email" 
                      [(ngModel)]="borrowerEmail" 
                      name="borrowerEmail" 
                      class="form-control" 
                      required 
                      placeholder="Enter Borrower Email"
                      #borrowerEmailInput="ngModel"
                    />
                    <div *ngIf="borrowerEmailInput.invalid && borrowerEmailInput.touched" class="text-danger">
                      Valid Email is required.
                    </div>
                  </div>

                  <!-- Loan Type -->
                  <div class="form-group">
                    <label for="loanType" class="form-label">
                      <i class="fas fa-hand-holding-usd me-2"></i>Loan Type
                    </label>
                    <input 
                      id="loanType" 
                      type="text" 
                      [(ngModel)]="loanType" 
                      name="loanType" 
                      class="form-control" 
                      required 
                      placeholder="Enter Loan Type"
                      #loanTypeInput="ngModel"
                    />
                    <div *ngIf="loanTypeInput.invalid && loanTypeInput.touched" class="text-danger">
                      Loan Type is required.
                    </div>
                  </div>

                  <!-- Date -->
                  <div class="form-group">
                    <label for="date" class="form-label">
                      <i class="fas fa-calendar me-2"></i>Date
                    </label>
                    <input 
                      id="date" 
                      type="date" 
                      [(ngModel)]="date" 
                      name="date" 
                      class="form-control" 
                      required 
                      #dateInput="ngModel"
                    />
                    <div *ngIf="dateInput.invalid && dateInput.touched" class="text-danger">
                      Date is required.
                    </div>
                  </div>

                  <!-- Form Actions -->
                  <div class="form-actions">
                    <button type="submit" class="btn btn-submit" [disabled]="!alertForm.valid || isLoading">
                      <i class="fas fa-paper-plane me-2"></i>
                      {{ isLoading ? 'Sending...' : 'Submit' }}
                    </button>
                    
                  </div>
                </form>
              </div>

              <!-- Loading Spinner -->
              <div *ngIf="isLoading" class="loading-spinner">
                <div class="spinner">
                  <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                  </div>
                </div>
                <p class="spinner-text mt-2">Sending alert...</p>
              </div>

              <!-- Success Message -->
              <div *ngIf="formSubmitted" class="success-message">
                <i class="fas fa-check-circle success-icon"></i>
                <p class="success-text">Alert sent successfully!</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
